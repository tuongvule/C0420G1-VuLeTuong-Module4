<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--<script src="https://code.jquery.com/jquery-3.2.1.js" ></script>-->
    <!-- JS tạo nút bấm di chuyển trang start -->
    <script src="http://1892.yn.lt/blogger/JQuery/Pagging/js/jquery.twbsPagination.js" type="text/javascript"></script>
    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>-
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    <!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">-->
    <!--    &lt;!&ndash; JS, Popper.js, and jQuery &ndash;&gt;-->
    <!--    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>-->
    <!--    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>-->
    <!--    <link rel="stylesheet" href="furama.css">-->
    <!--    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">-->
    <!--    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->
    <!--    <link rel="stylesheet" href="search.css">-->
    <!--    <link rel="stylesheet" href="login.css">-->
    <style>
        .menu ul li{
            margin-right: 0%;
        }
    </style>
    <script>
        $(document).ready(function(){
            // Activate tooltips
            $('[data-toggle="tooltip"]').tooltip();
            // Filter table rows based on searched term
            $("#search").on("keyup", function() {
                var term = $(this).val().toLowerCase();
                $("table tbody tr").each(function(){
                    $row = $(this);
                    var name = $row.find("td:nth-child(2)").text().toLowerCase();
                    console.log(name);
                    if(name.search(term) < 0){
                        $row.hide();
                    } else{
                        $row.show();
                    }
                });
            });
        });
    </script>
    <script type="text/javascript">
        $(function () {
            var pageSize = 7; // Hiển thị 7 sản phẩm trên 1 trang (nghĩa là 7 rows)
            showPage = function (page) {
                $(".contentPage").hide();
                $(".contentPage").each(function (n) {
                    if (n >= pageSize * (page - 1) && n < pageSize * page)
                        $(this).show();
                });
            }
            showPage(1);
            ///** Cần truyền giá trị vào đây **///
            var totalRows = ${count}; // Tổng số sản phẩm hiển thị
            var btnPage = 5; // Số nút bấm hiển thị di chuyển trang
            var iTotalPages = Math.ceil(totalRows / pageSize);
            var obj = $('#pagination').twbsPagination({
                totalPages: iTotalPages,
                visiblePages: btnPage,
                onPageClick: function (event, page) {
                    console.info(page);
                    showPage(page);
                }
            });
            console.info(obj.data());
        });
    </script>
    <style>
        body {
            color: #566787;
            background: #f7f5f2;
            font-family: 'Roboto', sans-serif;
        }
        .table-responsive {
            margin: 30px 0;
        }
        .table-wrapper {
            min-width: 1000px;
            background: #fff;
            padding: 20px 25px;
            border-radius: 3px;
            box-shadow: 0 1px 1px rgba(0,0,0,.05);
        }
        .table-title {
            color: #fff;
            background: #40b2cd;
            padding: 16px 25px;
            margin: -20px -25px 10px;
            border-radius: 3px 3px 0 0;
        }
        .table-title h2 {
            margin: 5px 0 0;
            font-size: 24px;
        }

        table.table {
            table-layout: fixed;
            margin-top: 15px;
        }
        table.table tr th, table.table tr td {
            border-color: #e9e9e9;
        }
        table.table th i {
            font-size: 13px;
            margin: 0 5px;
            cursor: pointer;
        }
        table.table th:first-child {
            width: 60px;
        }
        table.table th:last-child {
            width: 120px;
        }
        table.table td a {
            color: #a0a5b1;
            display: inline-block;
            margin: 0 5px;
        }

        table.table td a.view {
            color: #03A9F4;
        }
        table.table td a.edit {
            color: #FFC107;
        }
        table.table td a.delete {
            color: #E34724;
        }
        table.table td i {
            font-size: 19px;
        }
        table.table td i {
            font-size: 19px;
        }
        a {
            color: seashell;
            text-decoration: none;
            background-color: transparent;
        }
        .col-12 ul a:hover{
            color: white!important;
        }

        .search-box{
            /*position: relative;*/
            top: 50%;
            left: 50%;
            transform: translate(0%,-50%);
            background: #5b534e;
            height: 50px;
            border-radius: 40px;
            padding: 10px;
            margin-top: 60px;
            width: 300px;
        }
        .search-btn{
            color: #e9e1df;;
            float: left;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #5e1c10;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: 0.4s;
            box-shadow: 3px 3px 20px #5e1c10;
            margin-top: -5px;
        }
        .search-txt{
            border: none;
            background: none;
            outline: none;
            float: right;
            padding: 0;
            color: white;
            font-size: 16px;
            transition: 0.4s;
            line-height: 40px;
            width: 0px;
            margin-top: -5px;
        }
        .search-box:hover > .search-txt{
            width: 220px;
            padding: 0 6px;
        }
        .search-box:hover > .search-btn{
            background: white;
        }
    </style>
    <link rel="stylesheet" href="login.css">
</head>
<body style="background-image: url('https://www.travelvietnam.com/images/photos/asia/vietnam-danang-furama-resort-danang-3.jpg?t=1594914357')" onload="modalOpen()">
<div class="header" th:fragment="header">
    <div class="container-fluid">
        <div class="row" >
            <div class="col-3">
                <img style="width: 30%;padding: 15px" src="https://phuongviethcm.com/wp-content/uploads/2019/07/FURAMA.png">
            </div>
            <div class="col-3"></div>
            <div class="col-3"></div>
            <div class="col-3" style="display: flex;align-items: center">
                <a  href="#login"  data-toggle="modal">Sign in</a>
                <a href="#register" data-toggle="modal">Register</a>
            </div>
        </div>
    </div>
</div>
<!--end header-->
<div class="menu" style="background-color: sienna;height: 50px" th:fragment="menu">
    <div class="container">
        <div class="row">
            <div class="col-12" >
                <ul style="list-style: none;display:flex;flex-direction: row;padding-top: 12px;justify-content: space-between">
                    <li><a style="font-size: 20px;text-decoration: none!important; color: gold" th:href="@{/}">Home</a></li>
                    <li><a style="font-size: 20px;text-decoration: none!important; color: gold" th:href="@{/customer}">Customer</a></li>
                    <li>  <a style="font-size: 20px;text-decoration: none!important;  color: gold" th:href="@{/service}">Service</a></li>
                    <li><a style="font-size: 20px;text-decoration: none!important;  color: gold" th:href="@{/contract}">Contract</a></li>
                    <li><a style="font-size: 20px;text-decoration: none!important;  color: gold" th:href="@{/contractDetail}">Contract Detail</a></li>
                    <li><a style="font-size: 20px;text-decoration: none!important;  color: gold; width: fit-content" th:href="@{/customers-use-service}">Customers Use Service</a></li>
                    <!--                    <li class="input-group" style="margin: -6px">-->
                    <!--                        <input type="text" id="search" class="form-control" placeholder="Search">-->
                    <!--                    </li>-->
                    <!--                                    <li><input type="submit" value="Search"></li>-->
                </ul>
            </div>
        </div>
    </div>
</div>
<!--end menu-->



<!--show Cookie-->
<div class="notify">
    <th:block th:if="${contractCookie}">
        <h4><span th:text="${contractCookie}" style="color: red; background: white"></span></h4>
    </th:block>
</div>

<!--    form LOGIN -------------------------------------------------------------------------------------------------- -->
<div class="container1 modal" id="login">
    <div class="login-form">
        <form class="box" th:action="@{/j_spring_security_check1}" method="post">
            <button type="button" class="close" data-dismiss="modal" style="float: right;color: black" aria-hidden="true">&times;</button>
            <h1>Login</h1>
            <input type="text" placeholder="Username" name="username">
            <input type="password" placeholder="Password" name="password" style="margin: 30px auto 0px 77px;">
            <div th:if="${#request.getParameter('error') == 'true'}"
                 style="color:red;margin:10px 0px;" id="abc">
                Login Failed!!!<br />
                Reason :
                <span th:if="${#session!= null and #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}"
                      th:utext="${#session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION').message}">
                Static summary
         </span>
            </div>
            <input type="checkbox" name="remember-me" />
            <span style="color: black">Remember me! </span>
            <input type="submit" value="Login">
        </form>
    </div>
</div>

<!--    form REGISTER -------------------------------------------------------------------------------------------------- -->
<div class="container1 modal" id="register" th:fragment="register">
<div class="login-form">
    <form class="box" th:action="@{/register}" method="post">
        <button type="button" class="close" data-dismiss="modal" style="float: right;color: black" aria-hidden="true">&times;</button>
        <h1>Register</h1>
        <input type="text" placeholder="Username" name="username">
        <input type="password" placeholder="Password" name="password">
        <input type="submit" value="Register">
    </form>
</div>
</div>

</div>
</body>

<script>
    function modalOpen() {
        var temp = document.getElementById("abc").innerHTML;
        if (temp !== "") {
            $('#login').modal('show');
        }
    }
</script>
</html>
